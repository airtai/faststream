
<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

``` python
import time

from typer.testing import CliRunner

from fastkafka._components.logger import supress_timestamps
from fastkafka._components.test_dependencies import generate_app_in_tmp
from fastkafka._server import terminate_asyncio_process
```

``` python
# allows async calls in notebooks

import nest_asyncio
```

``` python
nest_asyncio.apply()
```

``` python
supress_timestamps()
logger = get_logger(__name__, level=20)
logger.info("ok")
```

    [INFO] __main__: ok

``` python
runner = CliRunner()
```

------------------------------------------------------------------------

### serve_docs

>      serve_docs (root_path:str=<typer.models.OptionInfo object at
>                  0x7f01b1376d10>, bind:str=<typer.models.OptionInfo object at
>                  0x7f01b1377150>, port:int=<typer.models.OptionInfo object at
>                  0x7f01b1376410>, app:str=<typer.models.ArgumentInfo object at
>                  0x7f01b11b0590>)

------------------------------------------------------------------------

### generate_docs

>      generate_docs (root_path:str=<typer.models.OptionInfo object at
>                     0x7f01b1376b50>, app:str=<typer.models.ArgumentInfo object
>                     at 0x7f01b1376890>)

------------------------------------------------------------------------

### docs_install_deps

>      docs_install_deps ()

``` python
! nbdev_export
```

``` python
result = runner.invoke(_docs_app, ["install_deps", "--help"])
```

<pre style={{whiteSpace: 'pre', overflowX: 'auto', lineHeight: 'normal', fontFamily: 'Menlo,"DejaVu Sans Mono",consolas,"Courier New",monospace'}}><span style={{fontWeight: 'bold'}}>                                                                                                                   </span>
<span style={{fontWeight: 'bold'}}> </span><span style={{color: '#808000', textDecorationColor: '#808000', fontWeight: 'bold'}}>Usage: </span><span style={{fontWeight: 'bold'}}>root install_deps [OPTIONS]                                                                                </span>
<span style={{fontWeight: 'bold'}}>                                                                                                                   </span>
</pre>
<pre style={{whiteSpace: 'pre', overflowX: 'auto', lineHeight: 'normal', fontFamily: 'Menlo,"DejaVu Sans Mono",consolas,"Courier New",monospace'}}> Installs dependencies for FastKafka documentation generation                                                      
                                                                                                                   
</pre>
<pre style={{whiteSpace: 'pre', overflowX: 'auto', lineHeight: 'normal', fontFamily: 'Menlo,"DejaVu Sans Mono",consolas,"Courier New",monospace'}}><span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>╭─ Options ───────────────────────────────────────────────────────────────────────────────────────────────────────╮</span>
<span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>│</span> <span style={{color: '#008080', textDecorationColor: '#008080', fontWeight: 'bold'}}>--help</span>          Show this message and exit.                                                                     <span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>│</span>
<span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯</span>
</pre>

``` python
result = runner.invoke(_docs_app, ["install_deps"])
assert result.exit_code == 0
```

    [INFO] fastkafka._components.docs_dependencies: AsyncAPI generator installed

``` python
result = runner.invoke(_docs_app, ["generate", "--help"])
```

<pre style={{whiteSpace: 'pre', overflowX: 'auto', lineHeight: 'normal', fontFamily: 'Menlo,"DejaVu Sans Mono",consolas,"Courier New",monospace'}}><span style={{fontWeight: 'bold'}}>                                                                                                                   </span>
<span style={{fontWeight: 'bold'}}> </span><span style={{color: '#808000', textDecorationColor: '#808000', fontWeight: 'bold'}}>Usage: </span><span style={{fontWeight: 'bold'}}>root generate [OPTIONS] APP                                                                                </span>
<span style={{fontWeight: 'bold'}}>                                                                                                                   </span>
</pre>
<pre style={{whiteSpace: 'pre', overflowX: 'auto', lineHeight: 'normal', fontFamily: 'Menlo,"DejaVu Sans Mono",consolas,"Courier New",monospace'}}> Generates documentation for a FastKafka application                                                               
                                                                                                                   
</pre>
<pre style={{whiteSpace: 'pre', overflowX: 'auto', lineHeight: 'normal', fontFamily: 'Menlo,"DejaVu Sans Mono",consolas,"Courier New",monospace'}}><span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>╭─ Arguments ─────────────────────────────────────────────────────────────────────────────────────────────────────╮</span>
<span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>│</span> <span style={{color: '#800000', textDecorationColor: '#800000'}}>*</span>    app      <span style={{color: '#808000', textDecorationColor: '#808000', fontWeight: 'bold'}}>TEXT</span>  input in the form of 'path:app', where **path** is the path to a python file and **app** is <span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>│</span>
<span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>│</span>                     an object of type **FastKafka**.                                                            <span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>│</span>
<span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>│</span>                     <span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>[default: None]                                                                            </span> <span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>│</span>
<span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>│</span>                     <span style={{color: '#bf7f7f', textDecorationColor: '#bf7f7f'}}>[required]                                                                                 </span> <span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>│</span>
<span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯</span>
</pre>
<pre style={{whiteSpace: 'pre', overflowX: 'auto', lineHeight: 'normal', fontFamily: 'Menlo,"DejaVu Sans Mono",consolas,"Courier New",monospace'}}><span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>╭─ Options ───────────────────────────────────────────────────────────────────────────────────────────────────────╮</span>
<span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>│</span> <span style={{color: '#008080', textDecorationColor: '#008080', fontWeight: 'bold'}}>--root-path</span>        <span style={{color: '#808000', textDecorationColor: '#808000', fontWeight: 'bold'}}>TEXT</span>  root path under which documentation will be created <span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>[default: .]</span>                       <span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>│</span>
<span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>│</span> <span style={{color: '#008080', textDecorationColor: '#008080', fontWeight: 'bold'}}>--help</span>             <span style={{color: '#808000', textDecorationColor: '#808000', fontWeight: 'bold'}}>    </span>  Show this message and exit.                                                            <span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>│</span>
<span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯</span>
</pre>

``` python
with generate_app_in_tmp() as import_str:
    result = runner.invoke(_docs_app, ["generate", import_str])
    typer.echo(result.output)
    assert result.exit_code == 0

    result = runner.invoke(_docs_app, ["generate", import_str])
    typer.echo(result.output)
    assert result.exit_code == 0
```

    [INFO] fastkafka._components.asyncapi: Old async specifications at '/tmp/tmpqvalk_fi/asyncapi/spec/asyncapi.yml' does not exist.
    [INFO] fastkafka._components.asyncapi: New async specifications generated at: '/tmp/tmpqvalk_fi/asyncapi/spec/asyncapi.yml'
    [INFO] fastkafka._components.asyncapi: Async docs generated at 'asyncapi/docs'
    [INFO] fastkafka._components.asyncapi: Output of '$ npx -y -p @asyncapi/generator ag asyncapi/spec/asyncapi.yml @asyncapi/html-template -o asyncapi/docs --force-write'

    Done! ✨
    Check out your shiny new generated files at /tmp/tmpqvalk_fi/asyncapi/docs.


``` python
result = runner.invoke(_docs_app, ["serve", "--help"])
```

<pre style={{whiteSpace: 'pre', overflowX: 'auto', lineHeight: 'normal', fontFamily: 'Menlo,"DejaVu Sans Mono",consolas,"Courier New",monospace'}}><span style={{fontWeight: 'bold'}}>                                                                                                                   </span>
<span style={{fontWeight: 'bold'}}> </span><span style={{color: '#808000', textDecorationColor: '#808000', fontWeight: 'bold'}}>Usage: </span><span style={{fontWeight: 'bold'}}>root serve [OPTIONS] APP                                                                                   </span>
<span style={{fontWeight: 'bold'}}>                                                                                                                   </span>
</pre>
<pre style={{whiteSpace: 'pre', overflowX: 'auto', lineHeight: 'normal', fontFamily: 'Menlo,"DejaVu Sans Mono",consolas,"Courier New",monospace'}}> Generates and serves documentation for a FastKafka application                                                    
                                                                                                                   
</pre>
<pre style={{whiteSpace: 'pre', overflowX: 'auto', lineHeight: 'normal', fontFamily: 'Menlo,"DejaVu Sans Mono",consolas,"Courier New",monospace'}}><span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>╭─ Arguments ─────────────────────────────────────────────────────────────────────────────────────────────────────╮</span>
<span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>│</span> <span style={{color: '#800000', textDecorationColor: '#800000'}}>*</span>    app      <span style={{color: '#808000', textDecorationColor: '#808000', fontWeight: 'bold'}}>TEXT</span>  input in the form of 'path:app', where **path** is the path to a python file and **app** is <span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>│</span>
<span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>│</span>                     an object of type **FastKafka**.                                                            <span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>│</span>
<span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>│</span>                     <span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>[default: None]                                                                            </span> <span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>│</span>
<span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>│</span>                     <span style={{color: '#bf7f7f', textDecorationColor: '#bf7f7f'}}>[required]                                                                                 </span> <span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>│</span>
<span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯</span>
</pre>
<pre style={{whiteSpace: 'pre', overflowX: 'auto', lineHeight: 'normal', fontFamily: 'Menlo,"DejaVu Sans Mono",consolas,"Courier New",monospace'}}><span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>╭─ Options ───────────────────────────────────────────────────────────────────────────────────────────────────────╮</span>
<span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>│</span> <span style={{color: '#008080', textDecorationColor: '#008080', fontWeight: 'bold'}}>--root-path</span>        <span style={{color: '#808000', textDecorationColor: '#808000', fontWeight: 'bold'}}>TEXT   </span>  root path under which documentation will be created <span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>[default: .]</span>                    <span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>│</span>
<span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>│</span> <span style={{color: '#008080', textDecorationColor: '#008080', fontWeight: 'bold'}}>--bind</span>             <span style={{color: '#808000', textDecorationColor: '#808000', fontWeight: 'bold'}}>TEXT   </span>  Some info <span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>[default: 127.0.0.1]</span>                                                      <span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>│</span>
<span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>│</span> <span style={{color: '#008080', textDecorationColor: '#008080', fontWeight: 'bold'}}>--port</span>             <span style={{color: '#808000', textDecorationColor: '#808000', fontWeight: 'bold'}}>INTEGER</span>  Some info <span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>[default: 8000]</span>                                                           <span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>│</span>
<span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>│</span> <span style={{color: '#008080', textDecorationColor: '#008080', fontWeight: 'bold'}}>--help</span>             <span style={{color: '#808000', textDecorationColor: '#808000', fontWeight: 'bold'}}>       </span>  Show this message and exit.                                                         <span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>│</span>
<span style={{color: '#7f7f7f', textDecorationColor: '#7f7f7f'}}>╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯</span>
</pre>
